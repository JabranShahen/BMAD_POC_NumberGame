# Story Context: 1.6 Animated Emoji State Indicators (Noto Emoji Edition)

Epic: Epic 1 - Core Gameplay Loop  
Source: docs/epics.md (Story 1.6)  
PRD FRs: FR-010, FR-011, FR-015 (visual feedback, emotional UX, accessibility)

## Intent  
Replace static Unicode emoji with animated emoji assets from the Google Fonts Noto Emoji Animation project. Introduce an animated emoji avatar that visually expresses the emotional state of the player across Difficulty, Gameplay, and Game Over screens. This avatar must use Noto’s `.json (Lottie)` or animated `.webp` assets rather than default Unicode emojis.

---

## Functional Scope

Screens impacted:
- Difficulty screen (pre-session)
- Gameplay screen (in-session)
- Game Over screen (post-session)

Game state inputs:
- Selected difficulty (`fun`, `medium`, `hard`)
- Current lives (0–5)
- Remaining seconds in puzzle timer
- Final session score / game over

---

## Animation Asset Requirements

Use the official Google Fonts Noto Emoji Animation set:  
https://googlefonts.github.io/noto-emoji-animation/

Assets must be:
- downloaded into `assets/animated_emoji/`
- referenced in `pubspec.yaml`
- rendered via `Lottie.asset()` (preferred) OR `Image.asset()` for WebP

---

## Emoji Animation Mapping

### Difficulty screen
- `face-grinning.json`  
Meaning: welcoming / optimistic  

### Gameplay  
- 5 lives → `face-laughing.json` or `face-grinning.json`  
- 4 lives → `face-smiling.json`  
- 3 lives → `face-grimacing.json`  
- 2 lives → `face-flushed.json`  
- 1 life → `face-fearful.json`  
- When timer <= 3 seconds → `face-cold-sweat.json`  

### Game Over  
- `face-dizzy.json`

---

## Non-Functional & UX Constraints

- Animation must loop smoothly or idle gently.
- Avatar must not visually dominate UI or distract from puzzle.
- Memory and GPU load must remain acceptable on low-spec phones.
- If device can’t render animation → fallback to static PNG.
- Avatar must respect Sunset Punch color scheme.

---

## Technical Implementation Notes

### Widget  
Create:

```dart
EmojiAvatarWidget(
  lives: int,
  remainingSeconds: int,
  gameOver: bool,
  isDifficultyScreen: bool,
)
